<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{{ url_for('static', filename='auth.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/background.png') }}" />
    <title>Inscription</title>
  </head>

<body>
<div class="container">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="flash {{ category }}">{{ message }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

    <!-- Signup form container -->
    <h2>Créer un compte</h2>
    <form action="{{ url_for('signup') }}" method="POST">
        <div class="form-group">
            <!-- First name input -->
            <label>Prénom</label>
            <input type="text" name="first_name" required value="{{ request.form.first_name or '' }}">
        </div>

        <div class="form-group">
            <!-- Family name input -->
            <label>Nom de famille</label>
            <input type="text" name="family_name" required value="{{ request.form.family_name or '' }}">
        </div>

        <div class="form-group">
            <!-- Password input -->
            <label>Mot de passe</label>
            <input type="password" name="password" required>
            {% if errors.password %}
                <div class="error">{{ errors.password }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <!-- Confirm password input -->
            <label>Confirmer le mot de passe</label>
            <input type="password" name="confirm_password" required>
            {% if errors.confirm_password %}
                <div class="error">{{ errors.confirm_password }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <!-- Optional admin code -->
            <label>Code admin (optionnel)</label>
            <input type="text" name="admin_code" value="{{ request.form.admin_code or '' }}">
            {% if errors.admin_code %}
             <div class="error">{{ errors.admin_code }}</div>
            {% endif %}
        </div>

        <input type="submit" value="Créer le compte">
    </form>
</div>
</body>
</html>
